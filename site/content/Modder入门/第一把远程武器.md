---
title: 第一把远程武器.md
author: 小天使
topic: modder-basic
description: 开始学习如何使用Shoot函数，同时教学数学基础
order: 1
difficulty: beginner
time: 15分钟
---

> 施工中

# 前言

> 其实我对tModLoader学习有一句话：***阿鼻地狱***。
> 因为确确实实很经常出现学不懂的问题，和很多东西不一样，不会就是不会。

这篇文章会学习如何制作一个发射原版弹幕的武器

# API介绍

## 物品设置

> 下文的内容是 **MyMod** (绿群前类ExampleMod的Mod) 的内容

{{cs:./code/firstgun.cs#cs:m:MyMod.Content.Items.Weapons.FirstGun.SetDefaults()}}

我们这边来看一些关键的内容

### `Item.shoot`

- 作用：
    - 设置此属性可以使用重写方法 `Shoot()`
    - 默认不使用重写方法则为直接发射。
- 默认值：*-1*

### `Item.shootSpeed`

- 作用：
    - 设置此属性可以修改默认发射速度
    - 如果保持默认值弹幕就会以 ***0*** 的速度发射，然后它就卡在原地了
- 默认值：*0*

### `Item.noMelee`

- 作用：设置true，则取消物品的碰撞伤害
- 为什么会有这个属性？因为你不可能直接用枪械通过枪身（特殊情况例外）直接造成伤害

> PS：下面是超级笑话
> ![史上最大笑话：散弹枪-星辰击碎者](/site/content/Modder%E5%85%A5%E9%97%A8/imgs/image-31tpt.png)

## Shoot() 重写方法

{{cs:./code/firstgun.cs#cs:m:MyMod.Content.Items.Weapons.FirstGun.Shoot(Player player, EntitySource_ItemUse_WithAmmo source, Vector2 position, Vector2 velocity, int type, int damage, float knockback)}}

### 方法的参数：

- `player` -> 使用此物品的玩家
- `source` -> 生成源，具体说明属于**中级内容**，此处你只需要知道生成一些内容需要提供生成源
- `position` -> 发射位置，在调用前可以修改，默认为玩家中心
- `velocity` -> 速度，默认情况和 `Item.shootSpeed` 挂钩，和发射位置一样可以被提前修改
- `type` -> 发射的弹幕type，默认值为 `Item.shoot` ，同样可以被提前修改
- `damage` -> 默认是物品全部加成后的伤害，同样可以被提前修改
> **温馨提示**： `Item.damage` 是固定值，设计原则上就不应该变动 `Item.damage` ，**所以 `damage` 是受到所有加成后的伤害**
- `knockback` -> 默认是物品全部加成后的击退力，同样可以被提前修改
