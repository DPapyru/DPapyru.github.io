---
title: 第一个物品 - 创建基础武器
description: 创建基础武器物品并在游戏中验证
author: Papyru
category: Modder入门
topic: mod-dev
last_updated: 2026-01-30
prev_chapter: 第一个模组
---

## 版本说明

> WARNING: 版本说明：本教程适用于 **tModLoader 1.4.4+**

> `Item.damageType` API 在 1.4.4 中更改为 `Item.DamageType`。

## 本章目标

本章目标：写出一个最基础的 `ModItem`，并在游戏里能拿到它、能挥动它、能合成它。

你会在后续几乎所有内容里复用这一套结构：`SetDefaults` +（可选）`AddRecipes`。

## 第一步：创建物品类

创建一个继承 `ModItem` 的类。

关键点：
- 类名建议和文件名一致（便于教程索引与跳转）
- 先把 `SetDefaults` 写出来并能编译，再逐步加属性

## 第二步：设置属性（SetDefaults）

`SetDefaults` 里最常改的几类属性：
- 尺寸/价值/稀有度：`width/height/value/rare`
- 伤害与类型：`damage` + `DamageType`
- 使用手感：`useTime/useAnimation/useStyle/UseSound/autoReuse`

初学建议：一次只改一组属性，然后进游戏验证效果，别“写一大坨最后一起试”。

## 第三步：加一个合成配方（AddRecipes）

`AddRecipes` 用来注册配方。现在最推荐的写法是链式调用：
- `CreateRecipe()`
- `AddIngredient(...)`
- `AddTile(...)`
- `Register()`

先用最简单的材料与工作台验证流程，再慢慢改成你想要的配方。

下面就是一个“基础近战武器 + 配方”的完整示例代码，你可以先照抄，确保流程跑通。

### 示例代码：基础武器物品

```csharp
public override void SetDefaults() {
    // 基础属性
    Item.width = 20;
    Item.height = 20;
    Item.maxStack = 1;
    Item.value = Item.buyPrice(silver: 1);
    Item.rare = ItemRarityID.Blue;

    // 作为武器的核心属性
    Item.damage = 10;
    Item.DamageType = DamageClass.Melee;
    Item.knockBack = 2f;

    // 使用手感
    Item.useTime = 20;
    Item.useAnimation = 20;
    Item.useStyle = ItemUseStyleID.Swing;
    Item.UseSound = SoundID.Item1;
    Item.autoReuse = true;
}

public override void AddRecipes() {
    CreateRecipe()
        .AddIngredient(ItemID.DirtBlock, 10)
        .AddTile(TileID.WorkBenches)
        .Register();
}
```

## 验证与常见问题

### 验证清单

**阶段1：代码与构建**
- 创建了物品类（继承 `ModItem`）
- 重写了 `SetDefaults` 方法
- 重写了 `AddRecipes` 方法（如果需要配方）
- 构建成功（没有编译错误）
- 生成了新的 `.tmod` 文件

**阶段2：游戏内验证**
- 启动游戏，能看到你的 Mod
- 能在配方列表中找到物品（或用调试工具获得）
- 物品能装备在物品栏
- 挥动物品能看到挥动动画
- 挥动时能听到音效
- 击中敌人能看到伤害效果

### 常见问题排查

**问题1：物品无法合成**

可能原因：
1. 配方没有正确注册（`AddRecipes` 方法没有调用 `Register()`）
2. 工作台类型不对（`AddTile` 的 ID 不正确）
3. 材料数量不足（`AddIngredient` 的第二个参数太大）
4. 配方中的物品 ID 不存在

排查步骤：
1. 检查 `AddRecipes` 方法是否被 `override`
2. 检查链式调用最后是否有 `.Register()`
3. 检查 `AddIngredient` 的第二个参数（数量）
4. 进游戏，确认工作台可访问（例如 WorkBenches）

**问题2：物品显示为粉色方块**

可能原因：
1. 贴图文件缺失
2. 贴图命名错误（不匹配类名）
3. 贴图尺寸不对
4. 贴图文件格式不支持（必须为 PNG）

排查步骤：
1. 检查贴图文件是否存在于 `Items/` 目录下
2. 检查贴图命名是否与类名一致（忽略大小写）
3. 检查贴图尺寸（物品通常为 32x32 像素）
4. 检查贴图格式（必须是 .png）

**问题3：物品没有伤害或伤害异常**

可能原因：
1. `Item.damage` 没有设置
2. `Item.DamageType` 没有设置（默认为 None）
3. `Item.damage` 值为 0 或负数

排查步骤：
1. 检查 `SetDefaults` 中是否设置了 `Item.damage`
2. 检查是否设置了 `Item.DamageType`（例如 `DamageClass.Melee`）
3. 检查伤害值是否合理（通常在 1-100 之间）

**问题4：物品挥动速度异常**

可能原因：
1. `Item.useTime` 或 `Item.useAnimation` 设置得太小（挥动太快）
2. `Item.useTime` 或 `Item.useAnimation` 设置得太大（挥动太慢）
3. `Item.autoReuse` 设置错误

排查步骤：
1. 检查 `useTime` 和 `useAnimation` 值（建议从 20 开始尝试）
2. 检查是否需要自动连击（`autoReuse = true`）
3. 对比原版武器类似物品的数值

**问题5：无法拿到物品（没有配方时）**

如果没有添加 `AddRecipes`，需要通过调试方式获得：

1. 使用第三方工具（例如 Hero's Mod）
2. 使用游戏内命令（如果启用了测试模式）
3. 临时添加一个测试配方（完成测试后删除）

### 贴图与语言配置（进阶）

新手阶段可以先不配置贴图和语言，物品会显示为粉色方块，但功能正常。

当你完成基本功能验证后，可以学习：
- 贴图配置（32x32 PNG 文件，放在 Items/ 目录下）
- 语言配置（.hjson 或 .lang 文件，支持多语言）

<!-- generated from: Modder入门/详细文档/Mod开发实践/第一个物品.cs -->
