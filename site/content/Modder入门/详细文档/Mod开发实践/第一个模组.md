---
title: 第一个模组 - 创建空模组项目
author: Papyru
category: Modder入门
topic: mod-dev
description: 创建空模组项目并理解基础结构
last_updated: 2026-01-26
prev_chapter: 环境搭建.md
next_chapter: 第一个物品.md
---

环境搭建完成后，就可以创建第一个模组项目。创建流程并不复杂，但有一些细节需要按步骤确认。

## 目标与前置条件

**目标**：创建一个能正常运行的空模组项目，掌握基本的模组结构。

**前置条件**：
- 完成环境搭建
- 已安装tModLoader和Terraria
- 安装了Visual Studio 2022

## 模组项目结构

做Mod时我们需要了解模组的基本结构：

```
MyFirstMod/
├── MyFirstMod.csproj          # 模组配置文件
├── ModReference.cs             # 引用文件（不用改）
├── Main.cs                     # 主要逻辑文件
├── item_0.png                 # 物品图标
├── npc_0.png                  # NPC图标
├── tile_0.png                 # 方块图标
└──── lang/
    ├── en-US.json              # 英文语言包
    └── zh-CN.json              # 中文语言包
```

这个结构包含很多文件，但初期只需要重点关注 `Main.cs`。

## 第一步：创建模组项目

### 在tModLoader中创建项目

1. 启动Steam，运行`tModLoaderServer.exe`
2. 在主菜单中选择"Mods"
3. 点击"Mod Browser"
4. 点击"New Mod"按钮
5. 填写模组信息：

```
Mod Name: MyFirstMod
Author: YourName
Version: 1.0.0.0
Description: 我的第一个Terraria模组
```

6. 点击"Create Mod"完成创建

### 项目创建后的文件结构

创建完成后，你会在`Documents\My Games\Terraria tModLoader\Mods\`目录下看到`MyFirstMod`文件夹。

## 第二步：打开项目到Visual Studio

1. 进入`MyFirstMod`文件夹
2. 找到并双击`MyFirstMod.csproj`文件
3. Visual Studio会自动打开项目

### 熟悉项目文件

在Visual Studio中，你应该能看到这些文件：

- **Main.cs** - 这是我们的主要工作文件
- **item_0.png** - 物品贴图模板
- **zh-CN.json** - 中文语言文件

## 第三步：查看Main.cs文件

双击打开`Main.cs`文件，你会看到类似这样的代码：

```csharp
using Terraria;
using Terraria.ID;
using Terraria.ModLoader;

namespace MyFirstMod
{
    public class MyFirstMod : Mod
    {
        public override void Load()
        {
            // 在这里加载模组内容
        }

        public override void PostSetupContent()
        {
            // 在这里设置模组内容
        }

        public override void Unload()
        {
            // 在这里卸载模组
        }
    }
}
```

### 代码解析

这里先提出来，这个Main.cs是模组的入口点，我们需要了解几个关键方法：

- `Load()` - 模组加载时执行，一次
- `PostSetupContent()` - 内容设置完成后执行
- `Unload()` - 模组卸载时执行，一次

做Mod时，大部分内容都是通过继承ModLoader类来实现的。

## 第四步：模组配置文件

我们还需要关注`zh-CN.json`文件，这是模组的语言配置：

```json
{
  "$schema": "https://schemas.tmodloader.net/jsonschema/terraria-lang-file.json",
  "mod": "MyFirstMod",
  "displayName": "My First Mod",
  "displayUrl": "https://example.com",
  "author": "YourName",
  "description": "我的第一个Terraria模组",
  "version": "1.0.0.0",
  "versionType": "Release",
  "dependencies": {
    "tML": ">=0.11.8.6"
  }
}
```

这个文件控制着模组在游戏中的显示信息。

## 第五步：编译测试

现在我们来测试模组是否能正常编译和运行。

### 编译项目

1. 在Visual Studio中按`Ctrl+Shift+B`编译项目
2. 如果没有错误，说明代码语法正确
3. 在输出窗口应该看到"Build: 1 succeeded"

### 运行测试

1. 回到Steam，启动`tModLoaderServer.exe`
2. 进入"Mods"界面
3. 找到"My First Mod"模组
4. 确认模组状态显示为"Loaded"

如果显示 "Loaded"，说明你的第一个模组项目创建成功。

## 常见问题

**问题1：模组显示"Load Error"**
```
解决方案：检查Main.cs文件语法是否正确，确保没有编译错误
```

**问题2：模组列表中找不到**
```
解决方案：确保在tModLoader中点击了"Refresh Mods"按钮
```

**问题3：中文显示乱码**
```
解决方案：检查zh-CN.json文件是否使用UTF-8编码
```

## 模组文件修改

现在让我们稍微修改一下模组的基本信息。

### 修改Main.cs

打开Main.cs，在Load方法中添加一行：

```csharp
public override void Load()
{
    // 在这里加载模组内容
    Terraria.Main.QueueMainThreadAction(() => {
        Terraria.NewText("我的第一个模组已加载！", 255, 175, 0);
    });
}
```

这行代码会在模组加载时在屏幕上显示一条消息。

### 修改语言文件

修改`zh-CN.json`中的描述信息：

```json
"description": "这是我的第一个Terraria模组项目，包含基础模组结构和测试代码。",
```

## 重新编译测试

1. 在Visual Studio中按`Ctrl+Shift+B`重新编译
2. 在tModLoader中点击"Refresh Mods"
3. 重新启动tModLoader
4. 进入游戏后应该能看到屏幕上显示了黄色文字

## 模组开发的基本流程

到这里我们已经完成了模组开发的基本流程：

1. **创建项目** → 在tModLoader中新建Mod
2. **打开项目** → 用Visual Studio打开.csproj文件
3. **编写代码** → 在Main.cs中添加功能
4. **编译项目** → Ctrl+Shift+B编译
5. **刷新模组** → 在tModLoader中点击刷新
6. **测试运行** → 重新启动tModLoader测试

## 小结与下一步

到这里你已经成功创建了第一个 Terraria 模组项目。这个模组虽然简单，但包含了必要的结构。

**记住几个要点**：
- Main.cs是模组的入口点
- zh-CN.json控制显示信息
- 编译成功后在tModLoader中刷新即可测试
- 每次修改后都要重新编译和刷新

下一步我们在这个模组的基础上添加第一个物品，让它真正发挥作用。
