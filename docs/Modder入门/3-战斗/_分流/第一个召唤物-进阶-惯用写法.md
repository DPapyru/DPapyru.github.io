---
title: 第一个召唤物（进阶）：更贴近实战的写法
author: 小天使
date: 2026-01-20
last_updated: 2026-01-20
difficulty: intermediate
time: 8分钟
description: 当你已经有 C# 基础且熟悉 tML API 时，这里给出更贴近实战的组织方式与注意点
topic: mod-basics
order: 9603
hide: true
---

这份补充内容面向 **C≥1 且 T≥1**：默认你已能阅读本章代码，因此这里聚焦更惯用、可维护性更好的组织方式与注意点。

## 1）召唤物状态管理

复杂的召唤物可能有多种状态：
- 跟随模式
- 攻击模式
- 特殊技能模式

使用 `Projectile.ai[]` 来管理这些状态。

## 2）目标搜索优化

遍历所有 NPC 寻找目标是耗时的操作。可以：
- 限制搜索范围
- 缓存目标引用
- 使用定时搜索而不是每帧搜索

## 3）多召唤物支持

如果你的 Mod 支持多个同类召唤物：
- 使用 `Projectile.minionSlots` 控制槽位占用
- 确保 AI 不会让召唤物重叠
