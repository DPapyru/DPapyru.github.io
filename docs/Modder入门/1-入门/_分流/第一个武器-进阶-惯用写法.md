---
title: 第一个武器（进阶）：更贴近实战的写法
author: 小天使
date: 2026-01-20
last_updated: 2026-01-20
difficulty: intermediate
time: 8分钟
description: 当你已经有 C# 基础且熟悉 tML API 时，这里给出更贴近实战的组织方式与注意点
topic: mod-basics
order: 9003
---

这份补充内容面向 **C≥1 且 T≥1**：默认你已能阅读本章代码，因此这里聚焦更惯用、可维护性更好的组织方式与注意点。

## 1）把“可调参数”集中起来

伤害/攻速/击退等参数往往需要反复调整。建议将其集中为常量（或统一配置），降低“散改漏改”的概率：

```csharp
private const int Damage = 50;
private const int UseTime = 20;
private const float KnockBack = 6f;
```

## 2）`SetDefaults()` 里只做“属性表”

建议保持 `SetDefaults()` 的目标单一：只维护 `Item.xxx = ...;` 的属性表，避免在此处堆叠复杂逻辑（复杂逻辑通常拆到其他方法/钩子中）。

## 3）配方保持“可读性优先”

配方最常改的是材料/数量/制作站：

- 材料：`recipe.AddIngredient(...)`
- 制作站：`recipe.AddTile(...)`
- 最后别忘了：`recipe.Register()`

当配方增多时，建议按“每个配方一个块”组织，保证可读性与可维护性。
