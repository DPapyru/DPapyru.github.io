---
title: 环境搭建 - 开发环境准备
author: Papyru
category: Modder入门
topic: mod-dev
description: 安装并验证 tModLoader 开发所需工具
last_updated: 2026-01-26
prev_chapter: ../CSharp知识/CSharp面向对象基础.md
next_chapter: 第一个模组.md
---

本章介绍开发环境的搭建。Mod 开发的环境准备步骤较多，需要按顺序安装并验证。

## 目标与前置条件

**目标**：搭建完整的tModLoader开发环境，能够创建和调试Terraria模组。

**前置条件**：
- Windows 10/11 64位系统
- 网络连接
- 基本的电脑操作能力

## 核心软件清单

做Mod时我们需要安装这些软件：

1. **Visual Studio 2022** - 主要的代码编辑器
2. **.NET 6.0 SDK** - C#运行环境
3. **Terraria** - 游戏本体
4. **tModLoader** - 模组加载器

建议按清单全部安装，缺少组件可能导致无法编译或调试。

## 第一步：安装Visual Studio 2022

Visual Studio是微软开发的IDE（集成开发环境），写C#代码必须用它。

### 下载安装包

1. 打开浏览器，访问 [Visual Studio官网](https://visualstudio.microsoft.com/zh-hans/)
2. 点击"免费下载Visual Studio Community"
3. 下载"VisualStudioSetup.exe"（大概2-3GB大小）

### 安装步骤

```
运行VisualStudioSetup.exe
↓
勾选"使用C++的桌面开发工作负载"
↓
点击右下角"安装"
↓
等待1-2小时安装完成
```

**重要提醒**：一定要勾选C++开发负载，这个选项虽然名字是C++，但实际包含了C#的编译器。很多人因为这个没勾选导致编译失败。

### 验证安装

安装完成后，打开Visual Studio，创建新项目时如果看到"C#控制台应用"选项，说明安装成功了。

## 第二步：安装.NET 6.0 SDK

.NET是C#语言的运行环境，tModLoader需要.NET 6.0版本。

### 下载安装包

1. 访问 [.NET官网](https://dotnet.microsoft.com/zh-cn/download/dotnet/6.0)
2. 下载".NET 6.0 (长期支持)"的"SDK"版本
3. 下载"dotnet-sdk-6.0.x-win-x64.exe"

### 安装步骤

```
双击运行dotnet-sdk-6.0.x-win-x64.exe
↓
点击"安装"
↓
等待几分钟安装完成
↓
重启电脑
```

### 验证安装

按`Win+R`输入`cmd`打开命令提示符，输入：

```bash
dotnet --version
```

如果显示`6.0.xxx`这样的版本号，说明安装成功了。

## 第三步：安装Terraria游戏

tModLoader需要Terraria游戏本体才能运行。

### 购买安装

1. 在Steam上购买Terraria（大约68元）
2. 安装游戏到Steam库中

### 验证游戏

确保游戏能够正常启动运行，至少能进入游戏主菜单。

## 第四步：安装tModLoader

tModLoader是核心模组加载器，所有Mod都要通过它来运行。

### 安装步骤

1. 启动Steam，在库中找到Terraria
2. 右键点击"属性"
3. 选择"已安装文件"
4. 点击"浏览..."进入游戏目录
5. 找到并运行`tModLoaderServer.exe`

第一次运行会自动下载安装tModLoader，这个过程可能需要10-30分钟，取决于网络速度。

### 验证安装

运行tModLoader后，如果看到主菜单界面，说明安装成功了。

## 第五步：安装tModLoader SDK

tModLoader SDK是专门为模组开发准备的工具集。

### 安装步骤

1. 再次运行`tModLoaderServer.exe`
2. 在主菜单中选择"Mods"
3. 选择"Mod Browser"
4. 搜索并安装"tModLoader SDK"
5. 点击"安装"按钮等待完成

### 验证安装

安装完成后，在Mod列表中应该能看到"tModLoader SDK"。

## 开发环境验证

现在我们来测试整个环境是否搭建成功。

### 创建测试项目

1. 在Steam中运行`tModLoaderServer.exe`
2. 选择"Mod Browser"
3. 点击"New Mod"
4. 按照向导创建一个测试模组

如果能够成功创建项目并看到代码文件，说明环境搭建成功了。

### 常见问题

**问题1：编译失败**
```
解决方案：检查是否安装了.NET 6.0 SDK和Visual Studio的C++工作负载
```

**问题2：tModLoader无法启动**
```
解决方案：确认Steam和Terraria都正常启动过，并且64位系统
```

**问题3：Mod加载失败**
```
解决方案：检查模组是否安装正确，重启tModLoader
```

## 首次开发流程

环境搭建完成后，典型的开发流程是：

1. **创建模组** → 在tModLoader中新建Mod项目
2. **编写代码** → 用Visual Studio打开.csproj文件
3. **编译测试** → 在tModLoader中按F5运行
4. **调试修复** → 根据错误信息修改代码
5. **发布分享** → 打包模组文件分享给其他人

## 小结与下一步

到这里开发环境就搭建完成了。虽然步骤较多，但一次配置好后，后续创建与调试项目会更稳定。

**记住几个要点**：
- Visual Studio必须安装C++工作负载
- 必须安装.NET 6.0 SDK
- tModLoader要通过Steam里的Terraria来安装
- 确保所有软件都是64位版本

下一步我们开始创建第一个真正的模组项目。
