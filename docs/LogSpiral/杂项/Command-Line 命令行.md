In addition to all the Command Line and Server Config settings available in [vanilla Terraria](https://terraria.wiki.gg/wiki/Server), tModLoader adds a few listed below.

----
### TOBEADDEDLIST
1) -loadlib
2) -publish, -ciprep, -publishedmodfiles, -uploadfolder
3) -experimental
5) -steamworkshopfolder
6) -audiodriver -> Overrides SDL_AUDIODRIVER
7) -videodriver -> Overrides SDL_VIDEODRIVER
----

### savedirectory [pathToSaveDirectoryFolder]
Server and Client Command Line Argument    
Specifies the save directory. The default save directories are listed [here](https://github.com/tModLoader/tModLoader/wiki/Basic-tModLoader-Usage-Guide#saves) but without the final folder in the path. The directory `/tModLoader` (or either `/ModLoader` or `/tModLoader-1.4.3` if on 1.3 or 1.4.3 tModLoader instead) will automatically be appended to the provided path. Use this argument to specify a different save directory. The save directory is the parent directory of the worlds directory and mods directory, so you can use only this parameter rather than both of those.

### tmlsavedirectory [pathToSaveDirectoryFolder]
Server and Client Command Line Argument    
Same as `savedirectory` above except `/tModLoader` won't automatically be appended to the provided path.

### modpack [modpackname]
Server and Client Command Line Argument, Server Config.  
Specifies a modpack to use by name. Omit the `.json` extension. The mods specified in the modpack (and only them) will be loaded. Useful for quickly launching a specified set of mods for people who might be doing multiple concurrent play-throughs with different sets of mods.

### modpath [pathToModsFolder]
Server Command Line Argument, Server Config.  
Specifies the folder to look for `.tmod` files. Useful for hosted servers as typically the default folder location is no accessible on dedicated hosts.

### skipselect
Server and Client Command Line Argument  
Useful for modders who wish to quickly test their mod. This flag will automatically select the 1st player and world in the list, allowing the modder to launch directly into the game. Very useful when building and launching from Visual Studio.

Modders should read the [Using Command Line Arguments for Debugging section](#using-command-line-arguments-for-debugging) below to learn how to easily use this argument while debugging.

If you wish to specify a specific player and world, you can use `-skipselect "MyPlayer:MyWorld"`. Either can be omitted and will default to the first player or world if missing. For example, `-skipselect ":MyWorld"` will select the 1st player and the specified world. These parameters go off of the world name (what you see in game), not the file path. 

For servers, the `-world` argument available in [vanilla Terraria](https://terraria.wiki.gg/wiki/Server) is similar. It uses the world file path as the argument instead of the world name.

### build [pathToModSource]
Server Client Command Line Argument  
Builds the mod specified by the folder from source, useful for modders. Used by default by the autogenerated csproj.

### publish [modname]
Server Command Line Argument  
Used to publish mods from the command line. Must be used with `-server` and `-steam` to work correctly. Currently only useable to publish [server-side](https://docs.tmodloader.net/docs/1.4-stable/namespace_terraria_1_1_mod_loader.html#a1c82c6b1930a8ee5c45efb091a036b06) mods.

Example:    
```
-server -steam -publish MyServersideMod -publishtags Library&Content -publicity 2
```

### publishtags [modpackname]
Server Command Line Argument  
Used with `-publish`. Setting this will override the tags currently set for the mod on the workshop. Each tag should be separated by `&`. The list of tags can be found in the [`SteamedWraps.InitializeModTags` method](https://github.com/tModLoader/tModLoader/blob/stable/patches/tModLoader/Terraria/Social/Steam/SteamedWraps.cs#L685). The tag can be specified multiple ways, for example for `AddModTag("tModLoader.TagsQoL", "Quality of Life");`, either "QoL" or "QualityofLife" is acceptable. Capitalization also doesn't matter, but spaces must be removed. Note that language tags will be removed automatically if they fall below some threshold, even if they are passed into `-publishtags`.

### publicity [WorkshopItemPublicSettingId]
Server Command Line Argument  
Used with `-publish`. Setting this will change the visibility of a mod on the workshop. For new mods, if this is not assigned it will default to public. Possible values are as follows:    
```
Private - 0
FriendsOnly - 1
Public - 2
Unlisted - 3
```
### eac
Server Client Command Line Argument (Windows Only)  
Enables Edit and Continue, useful for modders. Used by default by the autogenerated csproj.

### gldevice
Client Command Line Argument  
tModLoader uses the [FNA-XNA Framework](https://github.com/FNA-XNA/FNA) which means launch options from FNA are available. The most applicable one is `/gldevice:` which will switch graphics drivers. The available options are:
* `/gldevice:D3D11` (Default option on Windows)
* `/gldevice:OpenGL`
* `/gldevice:Vulkan`

See the [FNA Docs](https://fna-xna.github.io/docs/7%3A-FNA-Environment-Variables/) for more information about FNA launch options.

### testservermodloading
Server Command Line Argument  
This is used internally by tModLoader when testing a server-side mod before navigating to the publish menu. 

-----------

# Usage
For dedicated server configs, follow the example shown in the `serverconfig.txt` file in the [tModLoader install directory](https://github.com/tModLoader/tModLoader/wiki/Basic-tModLoader-Usage-Guide#default-install-locations). (for example, "modpath=/mymods/". Basically, [settingname]=[settingvalue]) 

You can also make a `cli-argsConfig.txt` file in the install directory and the contained command line parameters will be loaded as if they were used normally. 

Otherwise, use either a script (`.bat` on windows, `.sh` on linux/mac) to specify a command line argument (for example "start-tModLoader.bat -modpack friendsplaythrough"). Windows users can also add parameters to shortcut files by adding to the end of "Target". You can also add command line arguments to the "Launch Options" in the Steam properties for the game, these will only apply when launching from Steam.

# Examples
## cli-argsConfig.txt
Make a `cli-argsConfig.txt` file in the install directory and edit it however you want. Arguments can be on separate lines or all on the same line. These arguments will be loaded even if debugging or launching from Steam, making it convenient for options you want to always apply. Here is an example: 
```
-tmlsavedirectory TestSaveDirectory
-skipselect
```

## Windows Shortcut
Make a shortcut to the `start-tModLoader.bat` file by either copy and then paste shortcut or by right click dragging the file to another place and selecting "Create shortcuts here". Next, right click properties and edit the `Target` appropriately.
### Launch Windows Client with a specific Mod Pack
See picture:    
![](https://github.com/user-attachments/assets/eb1fea0b-81f4-4539-921d-e64f9b618ffc)    


------

## Using Command Line Arguments for Debugging
### Adding Command Line Arguments in Visual Studio
This section assumes you have a working development setup achieved by following the [Developing with Visual Studio](https://github.com/tModLoader/tModLoader/wiki/Developing-with-Visual-Studio) guide.

To add arguments for debugging, open up the debug properties for your mod's project. To do this, click the small black arrow next to the `Debug Target` button. The `Debug Target` button has a green arrow and will likely be labeled `Terraria` at this time. In the dropdown, select `[ModName] Debug Properties`:    
![image](https://github.com/tModLoader/tModLoader/assets/4522492/085c5d55-79ee-420b-b784-362e9896fc40)    

This will open up a window named `Launch Profiles`. In this window find the `Command line arguments` section. This is where the command line arguments that are used while debugging are assigned. The default value should be `$(tMLPath)`. More arguments can be added to this entry. The most useful argument to add is `-skipselect` (See the [skipselect section above](#skipselect) for more details.).    

![image](https://github.com/tModLoader/tModLoader/assets/4522492/129048fe-099c-4a34-b781-dc2acb9ef524)    

If you are debugging the server instead of the client, make sure to select the `TerrariaServer` launch profile and then change `Command line arguments`. The default value would be `$(tMLServerPath)` for the server launch profile.    

![image](https://github.com/tModLoader/tModLoader/assets/4522492/981643b7-ad2b-4255-aa99-8d66a577bcea)    

### Launch Profiles
By default, your mod project will come with 2 launch profiles, `Terraria` and `TerrariaServer`. These will launch and debug the client and server respectively. In the previous section, we added `-skipselect` to one of those default launch profiles to streamline debugging by bypassing the player and world select menus. This is useful but we might not always want that behavior and editing launch profiles to add or remove command line arguments can get tedious.

To avoid this, we can create a new launch profile with the new behavior. When we want the new behavior, we just need to select the launch profile from the dropdown and start debugging. 

First, open up the `Launch Profiles` menu again:    
![image](https://github.com/tModLoader/tModLoader/assets/4522492/b53d3a71-df77-49f8-89ff-34fdcdccdb06)    

Select the launch profile you want to make a copy of (`Terraria` for client or `TerrariaServer` for server), then click `Duplicate Selected Profile`:    
![image](https://github.com/tModLoader/tModLoader/assets/4522492/d401a316-f51a-4e62-bbbc-3a60b245660d)

Next, click `Rename selected profile` and give it a suitable name. In this example we will be naming the profile `TerrariaMyTestWorld` because we will be launching a world named "MyTestWorld" using the `-skipselect` argument. Next, edit the `Command line arguments` section and add the arguments you want. In this example, `-skipselect ":MyTestWorld"` has been added.    
![image](https://github.com/tModLoader/tModLoader/assets/4522492/e351d327-8716-40d4-b147-5c0e5e023a24)    

Close the `Launch Profiles` window. From now on, you can use the `Debug Target` dropdown menu to select a launch profile, then click it to start debugging with that profile.    
![image](https://github.com/tModLoader/tModLoader/assets/4522492/91285ccf-d6f8-4a08-8b19-a9fbe5a4d481)    

Launch profiles are stored in the [`Properties/launchSettings.json` file](https://github.com/tModLoader/tModLoader/wiki/Basic-tModLoader-Modding-Guide#mod-skeleton-contents). The file can be edited manually if that is more convenient, just make sure to follow json syntax. 

### Launch Profiles Ideas
Using launch profiles to streamline mod development can save time. Here are some more ideas on how to use launch profiles:

* Use [`tmlsavedirectory`](#tmlsavedirectory-pathtosavedirectoryfolder) to use a separate saves location. This can be useful for organization or testing specific settings you don't want to affect your normal tModLoader client.
* Use [`modpack`](#modpack-modpackname) to launch the game with a specific modpack enabled. This can be useful for testing the mod in isolation or testing the mod against specific optional dependencies.

