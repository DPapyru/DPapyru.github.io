---
title: 站点 Markdown 扩展语法说明（引用/条件/组件）
author: 小天使
date: 2026-01-20
last_updated: 2026-01-20
difficulty: beginner
time: 12分钟
description: 本站 docs/viewer.html 渲染器支持的 Markdown 扩展语法：引用展开、条件分流、题目与颜色标记
topic: article-contribution
order: 2
---

# 站点 Markdown 扩展语法说明（引用/条件/组件）

本仓库的 Markdown 主要由 `docs/viewer.html` 渲染（静态站点），因此我们支持一些“渲染器专用”的扩展语法，用于：

- **复用内容**：一处写好，多处引用（避免复制粘贴导致版本漂移）
- **因材施教**：按新手测评结果（C# 等级 / tModLoader 等级）展示不同深度
- **交互组件**：内嵌小测验、强调色等

这篇只讲“扩展语法本身”。文章结构/Front Matter/发布流程请看 `docs/怎么贡献/教学文章写作指南.md`。

---

## 1）引用展开（Transclusion）

语法（必须独占一行）：

```
{[相对路径/文件名.md][显示在目录里的标题]}
```

示例：

```
{[./_分流/第一个武器-C0-CSharp读代码.md][C# 补课：看懂本章语法（C0）]}
```

行为：

- 渲染时会读取并插入目标 Markdown 的内容（不需要新增索引 JSON）。
- 会在插入位置自动加一个二级标题：`## 你写的标题`，确保它能出现在右侧目录里。
- 被引用的文档内容会先去掉 YAML front matter（如果有）。

限制与建议：

- **必须独占一行**（前后可有空格/缩进，但不要和其它文字写在同一行）。
- **不会在代码块（```/~~~）里展开**。
- 站点有递归与数量上限（防止循环引用/爆栈/加载过慢），请避免“引用链太深/太多”。
- 被引用文档中的相对图片/链接会按“被引用文档所在目录”做适配，尽量避免资源路径错乱；但仍建议你优先使用稳定的相对路径，并在本地预览验证。

---

## 2）条件分流（if / else if / else）

用途：按用户测评结果展示不同内容，典型用法是“同一章节里，给 C0/T0 读者显示补课块，给熟练者显示进阶块”。

语法（每条指令必须独占一行）：

```
{if <条件>}
  ...内容...
{else if <条件>}
  ...内容...
{else}
  ...内容...
{end}
```

### 2.1 条件里可用的变量

- `C`：C# 等级（`0/1/2`）
- `T`：tModLoader 等级（`0/1/2`）

如果用户未做测评/跳过测评：按 `C=0,T=0` 处理。

### 2.2 支持的运算符

- 比较：`> < >= <= == !=`
- 逻辑：`&& || !`
- 括号：`( ... )`

示例：

```
{if C == 0}
这里是给完全没接触过 C# 的补课。
{else if C >= 1 && T == 0}
你会 C#，但 tML 不熟：这里讲 API 定位。
{else}
你已经比较熟练：这里给更贴近实战的写法。
{end}
```

### 2.3 和“引用展开”搭配（推荐）

推荐把“分流内容”写到单独文件里，再用 `{if}` + `{[...]}` 引用：

```
{if C == 0}
{[./_分流/xxx.md][C# 补课]}
{else}
{[./_分流/yyy.md][进阶建议]}
{end}
```

好处：

- 没命中的分支不会触发引用展开（不会去加载那份文件）
- 分流内容可以独立维护、复用到别的章节

---

## 3）题目组件（quiz 代码块）

语法：用 fenced code block，语言标记为 `quiz`：

````
```quiz
type: choice
id: your-unique-id
question: |
  题面
options:
  - id: A
    text: |
      选项 A
answer: A
explain: |
  解释
```
````

建议：

- `id` 必须全站唯一（建议加 topic/文章名作为前缀）
- 题面与选项尽量具体，避免“笼统概括”

---

## 4）颜色标记（color）

如果你在 Front Matter 里配置了：

```yaml
colors:
  Tip: "#88c0d0"
  Mad: "#f00"
```

那么你可以在正文里写：

```
{color:Tip}{这段文字会用 Tip 颜色显示}
```

提示：颜色标记适合“短句/警告”，不要把整段文章都染色（可读性会变差）。

