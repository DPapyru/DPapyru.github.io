---
title: 教学文章写作指南
author: 小天使
date: 2026-01-18
last_updated: 2026-01-18
difficulty: beginner
time: 30分钟
description: 写教程文章的统一规范（结构、站点特殊语法、发布流程）
topic: article-contribution
order: 1
---

# 教学文章写作指南

这篇文章是本仓库“唯一入口”的贡献与写作指南：既讲怎么写得好，也讲站点的特殊语法，以及怎么构建/预览/通过 CI。

## 你要做的事情（最短路径）

1. 在 `docs/` 下新增或修改 `*.md`（必须带 YAML Front Matter，至少 `title`）
2. 运行构建：`npm run build`（会自动更新 `docs/config.json`、`assets/search-index.json`、`sitemap.xml`）
3. 运行一致性检查：`npm run check-generated`（确保生成文件已提交）
4. 本地预览（任选其一）：
   - `python -m http.server 8000`
   - `npx http-server -p 8080`

注意：`docs/config.json`、`assets/search-index.json`、`sitemap.xml` 是自动生成的，请不要手改它们作为最终结果。

## 仓库结构速览

- `docs/`：教程内容与站内页面（文章在 `docs/**/**/*.md`）
- `assets/`：静态资源（图片建议放 `assets/imgs/`）
- 构建脚本：`generate-index.js`（生成索引/搜索/站点地图）

## 站点会读取哪些“元数据”（YAML Front Matter）

Front Matter 位于 Markdown 文件开头，格式是：

```yaml
---
title: 文章标题
---
```

### 推荐模板（直接复制）

```yaml
---
title: 文章标题（必填）
author: 你的名字
topic: mod-basics
order: 100
difficulty: beginner
time: 10分钟
description: 一句话概括文章内容
date: 2026-01-18
last_updated: 2026-01-18
---
```

### 完整模板（包含可选字段）

```yaml
---
title: 文章标题（必填）
author: 你的名字
topic: mod-basics
order: 100
difficulty: beginner
time: 10分钟
description: 一句话概括文章内容
date: 2026-01-18
last_updated: 2026-01-18

# 章节跳转（填同目录下真实存在的文件名；没有就留空）
prev_chapter:
next_chapter:

# 标签（可选）
tags:
  - tag-1
  - tag-2

# 单色高亮（可选）
colors:
  Tip: "#88c0d0"
  Mad: "#f00"

# 颜色动画（可选，不建议滥用）
colorChange:
  Rainbow:
    - "#f00"
    - "#0f0"
    - "#00f"
    - "#f00"
---
```

### 关键规则（结合站点实现）

1. **分类由目录决定**：文章的“分类”来自文件所在目录，例如 `docs/怎么贡献/`、`docs/Modder入门/`，不要在 YAML 里写 `category`。
2. **`topic` 建议写 key**：例如 `article-contribution`、`mod-basics`、`env`。站点支持别名，但 key 最稳定。
3. **`order` 用数字**：数字越小越靠前；没写会被当作很靠后。
4. **章节跳转字段**：`prev_chapter` / `next_chapter` 建议写“同目录下真实存在的 `*.md` 文件名”。如果没有上一章/下一章：
   - 推荐：不写这两个字段
   - 或写空值：`prev_chapter:`（留空），不要写 `prev_chapter: null`（站点会把 `null` 当作字符串，可能生成一个指向 `null` 的按钮）
5. **隐藏文章**：写 `hide: true` 会让文章不进入导航/索引（适合草稿/内部页）。

## 文件位置与命名

推荐：`docs/<分类>/作者-标题.md`

示例：

- `docs/Modder入门/DPapyru-第一个武器.md`
- `docs/怎么贡献/YourName-如何写一篇教程.md`

建议：

- 作者名优先用英文/ASCII（路径兼容更省心）
- 文件名尽量不要有空格/奇怪符号（GitHub Pages + URL 编码容易踩坑）

## 链接与图片（推荐写法）

- 同目录章节互链：直接写文件名，例如 `[下一章](下一章.md)`
- 图片建议放 `assets/imgs/`，在 Markdown 里用相对路径引用：
  - `docs/<分类>/文章.md`：`![说明](../../assets/imgs/xxx.png)`
  - `docs/<分类>/<子目录>/文章.md`：`![说明](../../../assets/imgs/xxx.png)`
- 尽量避免硬编码站点域名链接（方便本地预览与未来迁移）

## 站点特殊语法：颜色标注（单色）

站点固定深色主题，不再区分浅色/深色两套颜色；新文章统一使用 `colors`（单色）。

### 1）在元数据里定义颜色变量

```yaml
colors:
  Mad: "#f00"
  Tip: "#88c0d0"
```

### 2）在正文里使用

```md
{color:Mad}{这句话会变成红色}
{color:Tip}{这是提示色}
```

注意：

- 变量名建议使用英文/ASCII（例如 `Mad`、`Tip`），否则可能无法正常匹配/渲染。

## 站点特殊语法：颜色动画（不建议滥用）

```yaml
colorChange:
  Rainbow:
    - "#f00"
    - "#0f0"
    - "#00f"
    - "#f00"
```

正文：

```md
{colorChange:Rainbow}{彩色闪烁文字}
```

## 站点特殊组件：题目（Quiz）

站点支持把 `quiz` 代码块渲染成可交互题目，渲染逻辑在 `assets/js/site-quiz.js`。

### 支持的题型

- `type: choice`：选择题（单选/多选都用这个）
- `type: tf`：判断题

多选不是靠 `type: multiple`，而是靠 `answer` 写成列表（站点实现会据此渲染成复选框）。

### 选择题示例（单选）

````md
```quiz
type: choice
id: example-choice
question: |
  2 + 2 等于几？
options:
  - id: A
    text: |
      3
  - id: B
    text: |
      4
answer: B
explain: |
  2 + 2 = 4。
```
````

### 选择题示例（多选）

````md
```quiz
type: choice
id: example-multi
question: |
  下面哪些属于 C# 的关键字？
options:
  - id: A
    text: |
      `class`
  - id: B
    text: |
      `namespace`
  - id: C
    text: |
      `banana`
answer:
  - A
  - B
explain: |
  `class` 和 `namespace` 是关键字；`banana` 不是。
```
````

### 判断题示例（tf）

````md
```quiz
type: tf
id: example-tf
question: |
  `Item.damage` 用来设置物品伤害。
answer: true
explain: |
  `SetDefaults()` 里设置的 `Item.damage` 就是这把武器的伤害值。
```
````

### 常见坑（很重要）

1. `type: tf` 的 `answer` 必须写成不带引号的 `true` / `false`。如果写成 `answer: "false"`，站点会把它当作字符串，最终可能被当作 `true` 处理，导致判题结果异常。
2. `choice` 是否多选由 `answer` 决定：`answer` 是单个值 → 单选；`answer` 是列表（多行 `- ...`）→ 多选（复选框）。
3. `id`/选项必须对得上：`answer` 必须与 `options[*].id` 精确一致（大小写也要一致）。

## 写作风格（让读者更容易学会）

### 基本原则

1. **结构统一**：读者能快速找到“目标/步骤/FAQ”
2. **内容准确**：代码示例要能跑（至少自己验证过）
3. **循序渐进**：从小改动到完整功能
4. **实践导向**：建议“先复制运行，再解释原理”
5. **读者友好**：口语化表达 + 类比教学（但类比要准确）

### 推荐文章骨架（可直接套用）

````md
# 文章标题

这一章的目标是：[学完你能做什么]

## 你准备好了吗？

你需要完成/了解：[前置条件]

## 第一步：[步骤标题]

[步骤内容]

### 代码示例

```csharp
// 可运行的最小示例
```

### 代码解释

- 这段代码做了什么
- 关键参数/字段是什么意思

## 常见问题

### 1）[问题标题]

**原因**：[问题原因]

**解决**：[解决方法]
````

## 代码示例规范

- 语法高亮要写语言：例如 `csharp`
- 缩进尽量 4 空格，与项目现有代码风格一致
- 单个代码块别太长：能拆就拆，重点突出关键行

## 发布前检查清单（建议照着勾）

- [ ] YAML Front Matter 至少有 `title`
- [ ] 文章放在 `docs/<分类>/` 下，文件名可读且不易踩坑
- [ ] 链接与图片使用相对路径，本地预览能打开
- [ ] Quiz 能正常显示且能判题（`tf` 的 `answer` 没写成字符串）
- [ ] 运行 `npm run build` 后把生成文件一并提交
- [ ] 运行 `npm run check-generated`，确保不会因“漏提交生成文件”而 CI 失败
